"use strict";
;
(() => {
    const dotenv = require('dotenv');
    dotenv.config({ path: './.msh' });
    dotenv.config({ path: './.msh-user' });
    const envToJson = (env, def) => {
        try {
            return JSON.parse(process.env[env]);
        }
        catch (_) {
            return def;
        }
    };
    global.config = Object.freeze({
        rootDir: process.env.ROOT_DIR || process.cwd() || './',
        projects: envToJson('PROJECTS', []),
        pullRequestSkip: envToJson('PULL_REQUEST_SKIP', []),
        git: {
            team: process.env.GIT_TEAM || '',
            projectPrefix: process.env.GIT_PROJECT_PREFIX || '',
            host: process.env.GIT_HOST || 'bitbucket.org',
            username: process.env.GIT_USERNAME || '',
        },
        dockerBaseImages: envToJson('DOCKER_BASE_IMAGES', []),
    });
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBaUJBLENBQUM7QUFBQSxDQUFDLEdBQUcsRUFBRTtJQUNMLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtJQUNoQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUE7SUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFBO0lBRXRDLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBTyxFQUFFO1FBQ2xDLElBQUk7WUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQVcsQ0FBQyxDQUFBO1NBQzlDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLEdBQUcsQ0FBQTtTQUNYO0lBQ0gsQ0FBQyxDQUFBO0lBQ0QsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzVCLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksSUFBSTtRQUN0RCxRQUFRLEVBQUUsU0FBUyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7UUFDbkMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLENBQUM7UUFDbkQsR0FBRyxFQUFFO1lBQ0gsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLEVBQUU7WUFDaEMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLElBQUksRUFBRTtZQUNuRCxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksZUFBZTtZQUM3QyxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLElBQUksRUFBRTtTQUN6QztRQUNELGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLENBQUM7S0FDdEQsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbmFtZXNwYWNlIE5vZGVKUyB7XG4gIGludGVyZmFjZSBHbG9iYWwge1xuICAgIGNvbmZpZzoge1xuICAgICAgcm9vdERpcjogc3RyaW5nXG4gICAgICBwcm9qZWN0czogc3RyaW5nW11cbiAgICAgIHB1bGxSZXF1ZXN0U2tpcDogc3RyaW5nW11cbiAgICAgIGdpdDoge1xuICAgICAgICB0ZWFtOiBzdHJpbmdcbiAgICAgICAgcHJvamVjdFByZWZpeDogc3RyaW5nXG4gICAgICAgIGhvc3Q6IHN0cmluZ1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nXG4gICAgICB9XG4gICAgICBkb2NrZXJCYXNlSW1hZ2VzOiBzdHJpbmdbXVxuICAgIH1cbiAgfVxufVxuXG47KCgpID0+IHtcbiAgY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52JylcbiAgZG90ZW52LmNvbmZpZyh7IHBhdGg6ICcuLy5tc2gnIH0pXG4gIGRvdGVudi5jb25maWcoeyBwYXRoOiAnLi8ubXNoLXVzZXInIH0pXG5cbiAgY29uc3QgZW52VG9Kc29uID0gKGVudiwgZGVmKTogYW55ID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocHJvY2Vzcy5lbnZbZW52XSBhcyBzdHJpbmcpXG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgcmV0dXJuIGRlZlxuICAgIH1cbiAgfVxuICBnbG9iYWwuY29uZmlnID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgcm9vdERpcjogcHJvY2Vzcy5lbnYuUk9PVF9ESVIgfHwgcHJvY2Vzcy5jd2QoKSB8fCAnLi8nLFxuICAgIHByb2plY3RzOiBlbnZUb0pzb24oJ1BST0pFQ1RTJywgW10pLFxuICAgIHB1bGxSZXF1ZXN0U2tpcDogZW52VG9Kc29uKCdQVUxMX1JFUVVFU1RfU0tJUCcsIFtdKSxcbiAgICBnaXQ6IHtcbiAgICAgIHRlYW06IHByb2Nlc3MuZW52LkdJVF9URUFNIHx8ICcnLFxuICAgICAgcHJvamVjdFByZWZpeDogcHJvY2Vzcy5lbnYuR0lUX1BST0pFQ1RfUFJFRklYIHx8ICcnLFxuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuR0lUX0hPU1QgfHwgJ2JpdGJ1Y2tldC5vcmcnLFxuICAgICAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkdJVF9VU0VSTkFNRSB8fCAnJyxcbiAgICB9LFxuICAgIGRvY2tlckJhc2VJbWFnZXM6IGVudlRvSnNvbignRE9DS0VSX0JBU0VfSU1BR0VTJywgW10pLFxuICB9KVxufSkoKVxuIl19